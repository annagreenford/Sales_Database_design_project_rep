# Sales_Database_design_project_rep
## Background Scenario
You have been hired by a small retail business that wants to streamline its operations by creating a new database system. This database will be used to manage inventory, sales, and customer information. The business is a small corner shop that sells a range of groceries and domestic products. They also have a loyalty program, which you will need to consider when deciding what tables to create.
## Response 
### Understanding the Business Requirements:
The relational database will need to store the following information:
1. about the products sold
2. the price they are sold at 
3. any kind of categorisation of these products
4. what stock is held for each product
5. information about the customers (delivery/contact details)
6. customer membership of the loyalty scheme
7. what sales are made to each customer

Store assistants would need to enter sales details, update stock when supplier deliveries are made, update loyalty info relating to customers, and potentially add new customers/amend customer details. Store management could use the information to review what items are offered, track how much stock is being held, and direct new supplier orders. Total sales to individual customers can be tracked across time. It could also be used to analyse sales at product or category level to help direct marketing activities, track effectiveness of the loyalty scheme.
### Designing the Database Schema:  
Details are shown in the ![attached schema:](https://github.com/annagreenford/Sales_Database_design_project_rep/tree/main/SalesInventoryDB_schema.png "Image of database schema"). 
Customers who are members of the loyalty scheme are denoted by ‘loyalty_scheme’ in the ‘customer_1’ table. There is a field in the ‘salesorder_items’ table which shows if the loyalty discount has been applied to each item, this should be autogenerated dependent on the customers membership to the scheme as shown in the ‘customer_1’ table.  This can then deal with customers joining or leaving the scheme (if the membership criteria change for instance). 
In ‘salesorder_item_1’ table, the ‘actual_salesprice’ is calculated based on the price shown in the ‘product_1’ table and whether the loyalty discount is applied -if ‘loyalty_discount_applied’ is ‘true’ then the ‘loyalty_salesprice’ is used to calculate, if ‘false’, then the ‘standard_salesprice’ is used.  In the ‘salesorder_1’ table, the ‘total_salesvalue’ is a calculated field based on all of the relevant ‘acutal_salesprice‘ in the ‘salesorder_item_1’ table.  
In the ‘stock_1’ table, the initial stock levels in ‘product_stock_added’ are entered manually, ‘sales_completed’ are then updated based on ‘salesorder_item_1’ data, with the ‘product_id’ multiplied by ‘no_of_product’. ‘product_stock’ is calculated based on ‘product_stock_added’ minus ‘sales_completed’.  New items coming into stock should be manually added to ‘product_stock_added’.  Ultimately supplier management functionality could be added to the database to automate this aspect.
### Implementing the Database:
To create the database: 

```MySQL
CREATE DATABASE ‘sales’ DEFAULT CHARACTERSET utf8mb4; 
```

The following type of SQL query should be used to create a new table using ‘products’ as an example: 

```MySQL
USE ‘sales’; 
CREATE TABLE ‘products’ ( 
  ’product_id’ INT NOT NULL AUTO_INCREMENT,  
         ‘product_name’ VARCHAR(100) NOT NULL COMMENT "The Name of the product",  
        ‘ category_id’ INT NOT NULL ,  
       ‘ product_description’ VARCHAR (500) DEFAULT NULL COMMENT "Details about the product and its usage",  
        ‘standard_salesprice’ DECIMAL NOT NULL, 
         PRIMARY KEY (‘product_id’), 
        KEY ‘category_id’  (‘category_id’), 
        CONSTRAINT ‘should be specified’ FOREIGN KEY ‘category_id’ REFERENCES ‘category_1’ (‘category_id’) 
         ENGINE= InnoDB DEFAULT CHARSET= utf8mb4 
);
```

### Populating the Database:
Examples of how to seed the Product table initially and linked Category table data: 

```MySQL
INSERT INTO category_1 (category_name) 
VALUES (“Snacks”) 
INSERT INTO category_1 (category_name) 
VALUES (“Healthy stuff”) 
INSERT INTO product_1 (product_name, product_description, standard_salesprice, category_id)  
VALUES ("Crispy crisps", "Eat in moderation", 0.75, 1);  
INSERT INTO product (product_name, product_description, standard_salesprice, category_id)  
VALUES ("Brown rice", "Eat in more of this", 1.69, 2);  
INSERT INTO category_1 (category_name)
```

Snacks and Healthy stuff would automatically be allocated category_id of 1 and 2 respectively as the first two items to be entered into the category table.  The category _id of each item would need to be taken from the category table before entering this as a foreign key into the product table. 

Crispy Crisps and Brown rice would be allocated product_id 1 and 2 respectively as the first two items to be entered into the product table. 

### Maintaing the Database:
As the store manager I would check people new to the system (and all users initially), have their entries sense checked for an initial period.  I would anticipate errors in sales data could also be picked up by customers (assume the system auto generates sales invoices). 
Customer details should be checked periodically by staff (particularly contact details) when speaking to customers and updated on the system directly. 
Any new products being stocked need to be added to the list of products, and items no longer stocked updated to show ‘F’ in ‘current?’. 
Stock should be reconciled on a regular basis with stock takes so the stock showing on the database reflects any shrinkage. 
Permissions should be set up so that only authorised users can access the data by logging into the system and only specific people can make specific amendments to the database.  For instance the store manager may be able to revise stock levels in ‘stock_1’, but no other members of staff. 
Back ups should be made daily at a minimum so that, should any major issues occur with the data, it can be rolled back to a version from within the last 24 hours at a minimum and only the latest sales/updates need to be reapplied to the data. 
